<script>
function openModal() {
  document.getElementById("editModal").style.display = "flex";
}
function closeModal() {
  document.getElementById("editModal").style.display = "none";
}

function removeBook(button) {
  const li = button.parentElement;
  li.remove();
}

function requestReturn(button) {
  const li = button.parentElement;
  const bookName = li.childNodes[0].nodeValue.trim();
  const borrower = li.querySelector("em").innerText;

  // Build a structured request
  let requests = JSON.parse(localStorage.getItem("returnRequests")) || [];
  requests.push({
    book: bookName,
    borrower: borrower,
    owner: "John Doe" // ‚ö†Ô∏è later replace with Firebase currentUser
  });
  localStorage.setItem("returnRequests", JSON.stringify(requests));

  alert("üì¨ Return request sent for: " + bookName);

  // (optional) visually mark that request was sent
  button.disabled = true;
  button.innerText = "‚è≥ Requested";
}
</script>
